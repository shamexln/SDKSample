<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Product Core System (PCS): S31::Sdc::Impl::HttpServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Product Core System (PCS)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_s31.html">S31</a></li><li class="navelem"><a class="el" href="namespace_s31_1_1_sdc.html">Sdc</a></li><li class="navelem"><a class="el" href="namespace_s31_1_1_sdc_1_1_impl.html">Impl</a></li><li class="navelem"><a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_http_server.html">HttpServer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_s31_1_1_sdc_1_1_impl_1_1_http_server-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">S31::Sdc::Impl::HttpServer Class Reference<div class="ingroups"><a class="el" href="group___s31__group.html">S31</a> &raquo; <a class="el" href="group___s31_core.html">S31.Core</a> &raquo; <a class="el" href="group___s31_sdc.html">Sdc</a> &raquo; <a class="el" href="group___s31_sdc_common.html">Common</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Https Server.  
 <a href="class_s31_1_1_sdc_1_1_impl_1_1_http_server.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_http_server_8h_source.html">S31/Sdc/Private/Common/Http/HttpServer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac605e1b031734ffcf4da0aabbf9ef225"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_http_server.html#ac605e1b031734ffcf4da0aabbf9ef225">HttpServer</a> (<a class="el" href="class_d_f_l_1_1_not_null.html">DFL::NotNull</a>&lt; std::shared_ptr&lt; <a class="el" href="class_s31_1_1_asio_dispatch_1_1_executor_provider.html">AsioDispatch::ExecutorProvider</a> &gt;&gt; executorProvider, <a class="el" href="class_d_f_l_1_1_not_null.html">DFL::NotNull</a>&lt; std::shared_ptr&lt; <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_ssl_handshake_broker.html">SslHandshakeBroker</a> &gt;&gt; handshakeBroker, <a class="el" href="class_d_f_l_1_1_not_null.html">DFL::NotNull</a>&lt; std::shared_ptr&lt; const <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_connection_policy.html">ConnectionPolicy</a> &gt;&gt; connectionPolicy, <a class="el" href="class_d_f_l_1_1_not_null.html">DFL::NotNull</a>&lt; std::shared_ptr&lt; <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_http_server_handler.html">HttpServerHandler</a> &gt;&gt; serverHandler, <a class="el" href="group___s31_core_asio_dispatch.html#gaa5f201c0564e256ec8b0fe29cbe52e21">AsioDispatch::SchedulingPriority</a> priority, <a class="el" href="group___s31_sdc_common.html#gab2d0dc68887d69a71ed94124c482eeaa">ListeningPort</a> listenPort)</td></tr>
<tr class="memdesc:ac605e1b031734ffcf4da0aabbf9ef225"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="class_s31_1_1_sdc_1_1_impl_1_1_http_server.html#ac605e1b031734ffcf4da0aabbf9ef225">More...</a><br /></td></tr>
<tr class="separator:ac605e1b031734ffcf4da0aabbf9ef225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2256baa15a2a03fa983e455912cb85a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_http_server.html#ab2256baa15a2a03fa983e455912cb85a">start</a> ()</td></tr>
<tr class="memdesc:ab2256baa15a2a03fa983e455912cb85a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the server.  <a href="class_s31_1_1_sdc_1_1_impl_1_1_http_server.html#ab2256baa15a2a03fa983e455912cb85a">More...</a><br /></td></tr>
<tr class="separator:ab2256baa15a2a03fa983e455912cb85a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7d142f588c33c42272406859c9950a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_http_server.html#ab7d142f588c33c42272406859c9950a1">stop</a> ()</td></tr>
<tr class="memdesc:ab7d142f588c33c42272406859c9950a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the server.  <a href="class_s31_1_1_sdc_1_1_impl_1_1_http_server.html#ab7d142f588c33c42272406859c9950a1">More...</a><br /></td></tr>
<tr class="separator:ab7d142f588c33c42272406859c9950a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c58e6a877ac696dd72a446c241889d3"><td class="memItemLeft" align="right" valign="top">std::uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_http_server.html#a7c58e6a877ac696dd72a446c241889d3">httpIPv4Port</a> () const</td></tr>
<tr class="memdesc:a7c58e6a877ac696dd72a446c241889d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The TCP port the server is listening on for new connections.  <a href="class_s31_1_1_sdc_1_1_impl_1_1_http_server.html#a7c58e6a877ac696dd72a446c241889d3">More...</a><br /></td></tr>
<tr class="separator:a7c58e6a877ac696dd72a446c241889d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0a0af9b912c1c475cc4847f5c9861363"><td class="memItemLeft" align="right" valign="top"><a id="a0a0af9b912c1c475cc4847f5c9861363"></a>
<a class="el" href="class_d_f_l_1_1_not_null.html">DFL::NotNull</a>&lt; std::shared_ptr&lt; <a class="el" href="class_s31_1_1_asio_dispatch_1_1_executor_provider.html">AsioDispatch::ExecutorProvider</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_executorProvider</b></td></tr>
<tr class="separator:a0a0af9b912c1c475cc4847f5c9861363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a011f9149db8a154d07634c5a80ea6a80"><td class="memItemLeft" align="right" valign="top"><a id="a011f9149db8a154d07634c5a80ea6a80"></a>
<a class="el" href="class_d_f_l_1_1_not_null.html">DFL::NotNull</a>&lt; std::shared_ptr&lt; <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_http_server_handler.html">HttpServerHandler</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_serverHandler</b></td></tr>
<tr class="separator:a011f9149db8a154d07634c5a80ea6a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86b1a8be3408d053243718e766acb7b0"><td class="memItemLeft" align="right" valign="top"><a id="a86b1a8be3408d053243718e766acb7b0"></a>
<a class="el" href="class_d_f_l_1_1_not_null.html">DFL::NotNull</a>&lt; std::shared_ptr&lt; HttpServerImpl &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_impl</b></td></tr>
<tr class="separator:a86b1a8be3408d053243718e766acb7b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Https Server. </p>
<p>This Https server handles keep-alive connections from multiple client endpoints. All the connections share a common connection policy (with e.g. common SSL certificates and certificate verification procedures), and scheduling priority. The server may be configured with a fixed TCP port number to listen on, or allow the operating system to dynamically assign a port. Http requests (i.e. Get, Post) are dispatched to an object implementing the <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_http_server_handler.html">S31::Sdc::Impl::HttpServerHandler</a> interface. This handler is shared with each new connection session to handle requests from the corresponding client. </p><dl class="section note"><dt>Note</dt><dd>Any shared data referenced by the handler must be protected, since it may be called concurrently for different sessions. However, the handler must not block (e.g. to wait for some event) as this will block other (unrelated) work execution. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac605e1b031734ffcf4da0aabbf9ef225"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac605e1b031734ffcf4da0aabbf9ef225">&#9670;&nbsp;</a></span>HttpServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">S31::Sdc::Impl::HttpServer::HttpServer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_d_f_l_1_1_not_null.html">DFL::NotNull</a>&lt; std::shared_ptr&lt; <a class="el" href="class_s31_1_1_asio_dispatch_1_1_executor_provider.html">AsioDispatch::ExecutorProvider</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>executorProvider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_d_f_l_1_1_not_null.html">DFL::NotNull</a>&lt; std::shared_ptr&lt; <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_ssl_handshake_broker.html">SslHandshakeBroker</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>handshakeBroker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_d_f_l_1_1_not_null.html">DFL::NotNull</a>&lt; std::shared_ptr&lt; const <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_connection_policy.html">ConnectionPolicy</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>connectionPolicy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_d_f_l_1_1_not_null.html">DFL::NotNull</a>&lt; std::shared_ptr&lt; <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_http_server_handler.html">HttpServerHandler</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>serverHandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s31_core_asio_dispatch.html#gaa5f201c0564e256ec8b0fe29cbe52e21">AsioDispatch::SchedulingPriority</a>&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s31_sdc_common.html#gab2d0dc68887d69a71ed94124c482eeaa">ListeningPort</a>&#160;</td>
          <td class="paramname"><em>listenPort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">executorProvider</td><td>Provides access to a prioritized execution context for all connections handled by this server. </td></tr>
    <tr><td class="paramname">handshakeBroker</td><td>Ssl handshakes are delegated to a specialized broker service which provides e.g. limited concurrent handshakes, and different thread priority. See <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_ssl_handshake_broker.html">S31::Sdc::Impl::SslHandshakeBroker</a> </td></tr>
    <tr><td class="paramname">connectionPolicy</td><td>Connection policy provides customization shared by all the connections managed by this server. For example ssl certificates are provided. See <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_connection_policy.html">S31::Sdc::Impl::ConnectionPolicy</a> </td></tr>
    <tr><td class="paramname">serverHandler</td><td>Provides application specific handling of incoming Http requests. See <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_http_server_handler.html">S31::Sdc::Impl::HttpServerHandler</a> </td></tr>
    <tr><td class="paramname">priority</td><td>Sets the <a class="el" href="group___s31_core_asio_dispatch.html#gaa5f201c0564e256ec8b0fe29cbe52e21">S31::AsioDispatch::SchedulingPriority</a> used for all accepted connections in this server. Listening socket scheduling is automatically assigned a lower priority (priority - 1). Note that higher numeric values indicate higher priority. </td></tr>
    <tr><td class="paramname">listenPort</td><td>Sets the TCP port number on which the server will listen for new connections. A value of 0 indicates that the operating system will dynamically assign a port. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s31_1_1_internal_resource_missing.html" title="Shall be thrown when internal resources like scheduling, shared memory, ... are not available.">S31::InternalResourceMissing</a></td><td>if the server is unable to open and bind its listening socket. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7c58e6a877ac696dd72a446c241889d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c58e6a877ac696dd72a446c241889d3">&#9670;&nbsp;</a></span>httpIPv4Port()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::uint16_t S31::Sdc::Impl::HttpServer::httpIPv4Port </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The TCP port the server is listening on for new connections. </p>
<p>This port may be dynamically assigned by the OS. If 0 (zero) is returned it indicates that the server has failed to bind or has been stopped (it is not listening for connections). </p>

</div>
</div>
<a id="ab2256baa15a2a03fa983e455912cb85a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2256baa15a2a03fa983e455912cb85a">&#9670;&nbsp;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void S31::Sdc::Impl::HttpServer::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the server. </p>
<p>Starts listening for new connections </p>

</div>
</div>
<a id="ab7d142f588c33c42272406859c9950a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7d142f588c33c42272406859c9950a1">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void S31::Sdc::Impl::HttpServer::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the server. </p>
<p>Stops listening for new connections, and immediately closes all existing connections. This method is intended for use at system shutdown time, and will close (unbind) the listening socket. It is not possible to restart the server after stop. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>S31/S31.Core/src/main/S31/Sdc/Private/Common/Http/<a class="el" href="_http_server_8h_source.html">HttpServer.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 13 2023 13:32:16 for Product Core System (PCS) by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
