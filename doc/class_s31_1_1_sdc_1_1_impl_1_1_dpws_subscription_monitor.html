<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Product Core System (PCS): S31::Sdc::Impl::DpwsSubscriptionMonitor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Product Core System (PCS)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_s31.html">S31</a></li><li class="navelem"><a class="el" href="namespace_s31_1_1_sdc.html">Sdc</a></li><li class="navelem"><a class="el" href="namespace_s31_1_1_sdc_1_1_impl.html">Impl</a></li><li class="navelem"><a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html">DpwsSubscriptionMonitor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">S31::Sdc::Impl::DpwsSubscriptionMonitor Class Reference<div class="ingroups"><a class="el" href="group___s31__group.html">S31</a> &raquo; <a class="el" href="group___s31_core.html">S31.Core</a> &raquo; <a class="el" href="group___s31_sdc.html">Sdc</a> &raquo; <a class="el" href="group___s31_sdc_client.html">Client</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Monitors the 2 subscriptions (Mdib updates and operation invoke reports) belonging to a remote medical device.  
 <a href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_dpws_subscription_monitor_8h_source.html">S31/Sdc/Private/Client/DsoapClient/Subscriptions/DpwsSubscriptionMonitor.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for S31::Sdc::Impl::DpwsSubscriptionMonitor:</div>
<div class="dyncontent">
<div class="center"><img src="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor__inherit__graph.png" border="0" usemap="#a_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor_inherit__map" alt="Inheritance graph"/></div>
<map name="a_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor_inherit__map" id="a_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor_inherit__map">
<area shape="rect" title="Monitors the 2 subscriptions (Mdib updates and operation invoke reports) belonging to a remote medica..." alt="" coords="121,160,347,663"/>
<area shape="rect" href="class_s31_1_1_sdc_1_1_impl_1_1_i_dpws_subscription_monitor.html" title="Interface to notify a specific subscription as active." alt="" coords="5,5,228,112"/>
<area shape="rect" title=" " alt="" coords="252,5,451,112"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8c87aea8762a9d80d12a3b3abe8e5e87"><td class="memItemLeft" align="right" valign="top"><a id="a8c87aea8762a9d80d12a3b3abe8e5e87"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DpwsSubscriptionMonitor</b> (const <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html">DpwsSubscriptionMonitor</a> &amp;)=delete</td></tr>
<tr class="separator:a8c87aea8762a9d80d12a3b3abe8e5e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8764879180ed8f817023fab4a6eeb2ec"><td class="memItemLeft" align="right" valign="top"><a id="a8764879180ed8f817023fab4a6eeb2ec"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DpwsSubscriptionMonitor</b> (<a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html">DpwsSubscriptionMonitor</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a8764879180ed8f817023fab4a6eeb2ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f49fcd67ae3ed596fd23ce47da04504"><td class="memItemLeft" align="right" valign="top"><a id="a4f49fcd67ae3ed596fd23ce47da04504"></a>
<a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html">DpwsSubscriptionMonitor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html">DpwsSubscriptionMonitor</a> &amp;)=delete</td></tr>
<tr class="separator:a4f49fcd67ae3ed596fd23ce47da04504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7561d4950c033a80ffc29a2a0b8dba5e"><td class="memItemLeft" align="right" valign="top"><a id="a7561d4950c033a80ffc29a2a0b8dba5e"></a>
<a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html">DpwsSubscriptionMonitor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html">DpwsSubscriptionMonitor</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a7561d4950c033a80ffc29a2a0b8dba5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedbfbb29fe985aa3d21a9bbf75706b54"><td class="memItemLeft" align="right" valign="top"><a id="aedbfbb29fe985aa3d21a9bbf75706b54"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DpwsSubscriptionMonitor</b> (const <a class="el" href="class_s31_1_1_sdc_1_1_endpoint_reference.html">S31::Sdc::EndpointReference</a> &amp;remoteDeviceEpr, <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_endpoint_1_1_executor.html">S31::Sdc::Impl::Endpoint::Executor</a> getServiceExecutor, <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_endpoint_1_1_executor.html">S31::Sdc::Impl::Endpoint::Executor</a> mdibUpdateExecutor, boost::optional&lt; <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_endpoint_1_1_executor.html">S31::Sdc::Impl::Endpoint::Executor</a> &gt; setServiceExecutor, std::weak_ptr&lt; <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_report_1_1_report_processor.html">S31::Sdc::Impl::Report::ReportProcessor</a> &gt; reportProcessor, <a class="el" href="class_d_f_l_1_1_not_null.html">DFL::NotNull</a>&lt; std::shared_ptr&lt; <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_i_eventing_client.html">Sdc::Impl::IEventingClient</a> &gt;&gt; eventing, std::weak_ptr&lt; <a class="el" href="group___s31_sdc_client.html#ga272309399ddfc748cdd8623fe87d8b1d">Sdc::Impl::InvocationReportSubject</a> &gt; invocationReportSubject, Utils::WeakErrorHandler errorHandler, std::weak_ptr&lt; <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_on_remote_device_observer.html">DpwsSubscriptionOnRemoteDeviceObserver</a> &gt; subscriptionOnRemoteDeviceObserver, <a class="el" href="namespace_d_f_l_1_1_chrono.html#a47ba0164ae078c32d0c4c8020be39138">DFL::Chrono::Milliseconds</a> timeOutDuration)</td></tr>
<tr class="separator:aedbfbb29fe985aa3d21a9bbf75706b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d84634dfe3726ca0d332a907b0960a2"><td class="memItemLeft" align="right" valign="top"><a id="a4d84634dfe3726ca0d332a907b0960a2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> (const SoapActions &amp;mdibChangeReports)</td></tr>
<tr class="separator:a4d84634dfe3726ca0d332a907b0960a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f8b8c2f9eb9997afcd24eab37395281"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html#a3f8b8c2f9eb9997afcd24eab37395281">setSubscriptionActive</a> (<a class="el" href="group___s31_sdc_client_eventing.html#gafcbb565cdb9ec1088cfba03274dc673f">Sdc::Impl::WSEventingClientSubscriptionId</a> subscriptionId) override</td></tr>
<tr class="memdesc:a3f8b8c2f9eb9997afcd24eab37395281"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform monitor about the now active subscription.  <a href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html#a3f8b8c2f9eb9997afcd24eab37395281">More...</a><br /></td></tr>
<tr class="separator:a3f8b8c2f9eb9997afcd24eab37395281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a539ca7ee5949996f3361bf394076ec3b"><td class="memItemLeft" align="right" valign="top"><a id="a539ca7ee5949996f3361bf394076ec3b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleError</b> (const <a class="el" href="class_s31_1_1_utils_1_1_error.html">Utils::Error</a> &amp;error) override</td></tr>
<tr class="separator:a539ca7ee5949996f3361bf394076ec3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6dce2809d9782444a3339fdf57d88dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html#ac6dce2809d9782444a3339fdf57d88dd">unsubscribeActiveSubscriptions</a> (const <a class="el" href="class_d_f_l_1_1_locale_1_1_utf8.html">DFL::Locale::Utf8</a> &amp;reason)</td></tr>
<tr class="memdesc:ac6dce2809d9782444a3339fdf57d88dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscribe the subscriptions in the monitor.  <a href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html#ac6dce2809d9782444a3339fdf57d88dd">More...</a><br /></td></tr>
<tr class="separator:ac6dce2809d9782444a3339fdf57d88dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73038a028bb9da42a3cc34e2a8088783"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html#a73038a028bb9da42a3cc34e2a8088783">unsubscribeCompleted</a> () const</td></tr>
<tr class="memdesc:a73038a028bb9da42a3cc34e2a8088783"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether unsubscribe is completed or not.  <a href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html#a73038a028bb9da42a3cc34e2a8088783">More...</a><br /></td></tr>
<tr class="separator:a73038a028bb9da42a3cc34e2a8088783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc9a6cf5d6d782400013737e410e292b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html#abc9a6cf5d6d782400013737e410e292b">keepAlive</a> ()</td></tr>
<tr class="memdesc:abc9a6cf5d6d782400013737e410e292b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check subscriptions' keep alive status.  <a href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html#abc9a6cf5d6d782400013737e410e292b">More...</a><br /></td></tr>
<tr class="separator:abc9a6cf5d6d782400013737e410e292b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a246a5d614f1e9722a6ffea574df9d850"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html#a246a5d614f1e9722a6ffea574df9d850">raiseErrorIfIsEnded</a> ()</td></tr>
<tr class="memdesc:a246a5d614f1e9722a6ffea574df9d850"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raises an error if one of the subscriptions is ended.  <a href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html#a246a5d614f1e9722a6ffea574df9d850">More...</a><br /></td></tr>
<tr class="separator:a246a5d614f1e9722a6ffea574df9d850"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a5a423c5f72ae2a59b729c8817b0603a6"><td class="memItemLeft" align="right" valign="top"><a id="a5a423c5f72ae2a59b729c8817b0603a6"></a>enum class &#160;</td><td class="memItemRight" valign="bottom"><b>SubscriptionTypesChangeResult</b> { <b>unchanged</b>
, <b>changed</b>
 }</td></tr>
<tr class="separator:a5a423c5f72ae2a59b729c8817b0603a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aafab9fbf36985c9e4db38e31d7ebece1"><td class="memItemLeft" align="right" valign="top"><a id="aafab9fbf36985c9e4db38e31d7ebece1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>subscribeSetService</b> ()</td></tr>
<tr class="separator:aafab9fbf36985c9e4db38e31d7ebece1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac81a7e61c73c440e407c3903f19a5f01"><td class="memItemLeft" align="right" valign="top"><a id="ac81a7e61c73c440e407c3903f19a5f01"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>subscribeMdibUpdates</b> (const SoapActions &amp;mdibChangeReports)</td></tr>
<tr class="separator:ac81a7e61c73c440e407c3903f19a5f01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5caa1143945730f48d2d488538b92501"><td class="memItemLeft" align="right" valign="top"><a id="a5caa1143945730f48d2d488538b92501"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>internalUnsubscribe</b> (<a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_subscription.html">Impl::Subscription</a> &amp;subscription, const <a class="el" href="class_d_f_l_1_1_locale_1_1_utf8.html">DFL::Locale::Utf8</a> &amp;reason)</td></tr>
<tr class="separator:a5caa1143945730f48d2d488538b92501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea64b31b98d454b16584b09bc8a321ee"><td class="memItemLeft" align="right" valign="top"><a id="aea64b31b98d454b16584b09bc8a321ee"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>internalSubscribe</b> (<a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_subscription.html">Impl::Subscription</a> &amp;subscription, const SoapActions &amp;actionUriList)</td></tr>
<tr class="separator:aea64b31b98d454b16584b09bc8a321ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3464a3ef259860e74eed229f532687d"><td class="memItemLeft" align="right" valign="top"><a id="ac3464a3ef259860e74eed229f532687d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleUnsubscribedFlag</b> ()</td></tr>
<tr class="separator:ac3464a3ef259860e74eed229f532687d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a177033bde853e17abd4d2e0dba95ee11"><td class="memItemLeft" align="right" valign="top"><a id="a177033bde853e17abd4d2e0dba95ee11"></a>
const <a class="el" href="class_s31_1_1_sdc_1_1_endpoint_reference.html">S31::Sdc::EndpointReference</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_remoteDeviceEpr</b></td></tr>
<tr class="separator:a177033bde853e17abd4d2e0dba95ee11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73405b71144b5be75f587390e198a59c"><td class="memItemLeft" align="right" valign="top"><a id="a73405b71144b5be75f587390e198a59c"></a>
const <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_endpoint_1_1_executor.html">S31::Sdc::Impl::Endpoint::Executor</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_getServiceExecutor</b></td></tr>
<tr class="separator:a73405b71144b5be75f587390e198a59c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67457a54016e348165a07276cfc8684d"><td class="memItemLeft" align="right" valign="top"><a id="a67457a54016e348165a07276cfc8684d"></a>
const <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_endpoint_1_1_executor.html">S31::Sdc::Impl::Endpoint::Executor</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_mdibUpdateExecutor</b></td></tr>
<tr class="separator:a67457a54016e348165a07276cfc8684d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d76f955913bccc681a415169835e4e"><td class="memItemLeft" align="right" valign="top"><a id="a30d76f955913bccc681a415169835e4e"></a>
const boost::optional&lt; <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_endpoint_1_1_executor.html">S31::Sdc::Impl::Endpoint::Executor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_setServiceExecutor</b></td></tr>
<tr class="separator:a30d76f955913bccc681a415169835e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a212d51f4b140a2fbdd621211435beb5e"><td class="memItemLeft" align="right" valign="top"><a id="a212d51f4b140a2fbdd621211435beb5e"></a>
const std::weak_ptr&lt; <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_report_1_1_report_processor.html">S31::Sdc::Impl::Report::ReportProcessor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_reportProcessor</b></td></tr>
<tr class="separator:a212d51f4b140a2fbdd621211435beb5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d9c628668eec3add2a0809ae07c6cf"><td class="memItemLeft" align="right" valign="top"><a id="a53d9c628668eec3add2a0809ae07c6cf"></a>
<a class="el" href="class_d_f_l_1_1_not_null.html">DFL::NotNull</a>&lt; std::shared_ptr&lt; <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_i_eventing_client.html">Sdc::Impl::IEventingClient</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_eventingClient</b></td></tr>
<tr class="separator:a53d9c628668eec3add2a0809ae07c6cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeffe43e4c8632f915c31f9a7946dd107"><td class="memItemLeft" align="right" valign="top"><a id="aeffe43e4c8632f915c31f9a7946dd107"></a>
std::weak_ptr&lt; <a class="el" href="group___s31_sdc_client.html#ga272309399ddfc748cdd8623fe87d8b1d">Sdc::Impl::InvocationReportSubject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_invocationReportSubject</b></td></tr>
<tr class="separator:aeffe43e4c8632f915c31f9a7946dd107"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31833b3de2bad353e393716451a6c5ac"><td class="memItemLeft" align="right" valign="top"><a id="a31833b3de2bad353e393716451a6c5ac"></a>
Utils::WeakErrorHandler&#160;</td><td class="memItemRight" valign="bottom"><b>m_errorHandler</b></td></tr>
<tr class="separator:a31833b3de2bad353e393716451a6c5ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa330f35967383fec3c094f043b6c341f"><td class="memItemLeft" align="right" valign="top"><a id="aa330f35967383fec3c094f043b6c341f"></a>
std::weak_ptr&lt; <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_on_remote_device_observer.html">DpwsSubscriptionOnRemoteDeviceObserver</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_subscriptionOnRemoteDeviceObserver</b></td></tr>
<tr class="separator:aa330f35967383fec3c094f043b6c341f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4953eb1144c85ccaeba086278c7991be"><td class="memItemLeft" align="right" valign="top"><a id="a4953eb1144c85ccaeba086278c7991be"></a>
<a class="el" href="namespace_d_f_l_1_1_chrono.html#a47ba0164ae078c32d0c4c8020be39138">DFL::Chrono::Milliseconds</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_timeOutDuration</b></td></tr>
<tr class="separator:a4953eb1144c85ccaeba086278c7991be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8098d23e0037f2b43acb3cafab77ea2c"><td class="memItemLeft" align="right" valign="top"><a id="a8098d23e0037f2b43acb3cafab77ea2c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_unsubscribeCompleted</b> = false</td></tr>
<tr class="separator:a8098d23e0037f2b43acb3cafab77ea2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a226c4acb98c186fe9de3f16f7e842b"><td class="memItemLeft" align="right" valign="top"><a id="a2a226c4acb98c186fe9de3f16f7e842b"></a>
<a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_subscription.html">Impl::Subscription</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_mdibUpdateSubscription</b></td></tr>
<tr class="separator:a2a226c4acb98c186fe9de3f16f7e842b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd3a7e30348ee62c564772544c2591d9"><td class="memItemLeft" align="right" valign="top"><a id="acd3a7e30348ee62c564772544c2591d9"></a>
<a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_subscription.html">Impl::Subscription</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_setServiceSubscription</b></td></tr>
<tr class="separator:acd3a7e30348ee62c564772544c2591d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b254e9d3ef9e96b7cd45d576f39a99"><td class="memItemLeft" align="right" valign="top"><a id="a96b254e9d3ef9e96b7cd45d576f39a99"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><b>m_mdibUpdateMutex</b></td></tr>
<tr class="separator:a96b254e9d3ef9e96b7cd45d576f39a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0afb7b9ef1bca3d7e7793640834f0db"><td class="memItemLeft" align="right" valign="top"><a id="ae0afb7b9ef1bca3d7e7793640834f0db"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><b>m_setServiceMutex</b></td></tr>
<tr class="separator:ae0afb7b9ef1bca3d7e7793640834f0db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49bbd644b0e3b314bf21379b20ec90e0"><td class="memItemLeft" align="right" valign="top"><a id="a49bbd644b0e3b314bf21379b20ec90e0"></a>
<a class="el" href="group___s31_sdc_common.html#ga0cba53e57467d51a23716900bb3dd6ae">S31::Sdc::Impl::Endpoint::HandlerPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_executorHandlerPtr</b></td></tr>
<tr class="separator:a49bbd644b0e3b314bf21379b20ec90e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Monitors the 2 subscriptions (Mdib updates and operation invoke reports) belonging to a remote medical device. </p>
<p>Monitors that the subscriptions are ok, or raises error and terminates them. If there is no Set Service then there is only 1 subscription - this is also fine.</p>
<p>Responsible for:</p><ul>
<li>subscribing the 2 subscriptions to a remote device</li>
<li>handling life time of subscriptions (going active, error, keep alive check, unsubscribe)</li>
<li>allow invoking of keep alive actions on the subscription (renew if necessary) </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="abc9a6cf5d6d782400013737e410e292b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc9a6cf5d6d782400013737e410e292b">&#9670;&nbsp;</a></span>keepAlive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void S31::Sdc::Impl::DpwsSubscriptionMonitor::keepAlive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check subscriptions' keep alive status. </p>
<p>Has to be called periodically. Invokes RENEW if necessary. Does nothing if subscription is not there or has ended already. </p>

</div>
</div>
<a id="a246a5d614f1e9722a6ffea574df9d850"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a246a5d614f1e9722a6ffea574df9d850">&#9670;&nbsp;</a></span>raiseErrorIfIsEnded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void S31::Sdc::Impl::DpwsSubscriptionMonitor::raiseErrorIfIsEnded </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Raises an error if one of the subscriptions is ended. </p>
<p>This is to be used in connection with <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html#abc9a6cf5d6d782400013737e410e292b">keepAlive()</a> because only a not ended subscription can be kept alive. </p>

</div>
</div>
<a id="a3f8b8c2f9eb9997afcd24eab37395281"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f8b8c2f9eb9997afcd24eab37395281">&#9670;&nbsp;</a></span>setSubscriptionActive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void S31::Sdc::Impl::DpwsSubscriptionMonitor::setSubscriptionActive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s31_sdc_client_eventing.html#gafcbb565cdb9ec1088cfba03274dc673f">Sdc::Impl::WSEventingClientSubscriptionId</a>&#160;</td>
          <td class="paramname"><em>subscriptionId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inform monitor about the now active subscription. </p>
<p>This call can allow the subscription monitor to activate set operations to avoid races between subscription for invocation reports and the first set command. </p>

<p>Implements <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_i_dpws_subscription_monitor.html#a0179a7bca7aa9d5868a9506d88abd504">S31::Sdc::Impl::IDpwsSubscriptionMonitor</a>.</p>

</div>
</div>
<a id="ac6dce2809d9782444a3339fdf57d88dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6dce2809d9782444a3339fdf57d88dd">&#9670;&nbsp;</a></span>unsubscribeActiveSubscriptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void S31::Sdc::Impl::DpwsSubscriptionMonitor::unsubscribeActiveSubscriptions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_d_f_l_1_1_locale_1_1_utf8.html">DFL::Locale::Utf8</a> &amp;&#160;</td>
          <td class="paramname"><em>reason</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsubscribe the subscriptions in the monitor. </p>
<p>This is only done if the subscriptions are still active, i.e. they are not unsubscribed or terminated because of an error. </p>

</div>
</div>
<a id="a73038a028bb9da42a3cc34e2a8088783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73038a028bb9da42a3cc34e2a8088783">&#9670;&nbsp;</a></span>unsubscribeCompleted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool S31::Sdc::Impl::DpwsSubscriptionMonitor::unsubscribeCompleted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether unsubscribe is completed or not. </p>
<p><code>Complete</code> means that it is safe to destroy the <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html">S31::Sdc::Impl::DpwsSubscriptionMonitor</a> and not have running subscriptions managed by nobody. Note that unsubscribing might just be queued at this point (as unsubscribe job). That implies that e.g. communication errors from this unsubscribe request can still be raised (in future).</p>
<p>Secondly <code>Complete</code> does not mean that all unsubscribe requests before were successful.</p>
<p>Requires a call of <a class="el" href="class_s31_1_1_sdc_1_1_impl_1_1_dpws_subscription_monitor.html#ac6dce2809d9782444a3339fdf57d88dd" title="Unsubscribe the subscriptions in the monitor.">S31::Sdc::Impl::DpwsSubscriptionMonitor::unsubscribeActiveSubscriptions()</a> beforehand.</p>
<dl class="section return"><dt>Returns</dt><dd>true if so </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>S31/S31.Core/src/main/S31/Sdc/Private/Client/DsoapClient/Subscriptions/<a class="el" href="_dpws_subscription_monitor_8h_source.html">DpwsSubscriptionMonitor.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 13 2023 13:32:15 for Product Core System (PCS) by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
